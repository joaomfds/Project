<!doctype html>
<head>
  <meta charset="utf-8">
  <meta name="description" content="My Parse App">
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/styles.css">
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script type="text/javascript" src="http://www.parsecdn.com/js/parse-latest.js"></script>
</head>

<body>
  <h1>Testing</h1>
  <button onclick="show_image('http://frozen-sierra-62859.herokuapp.com/parse/files/instagram5208/4a6783037e5649c91a3e45063fb9e99c_image.png', 276, 110,'Google Logo');">Add Google Logo</button>

</body>

<script type="text/javascript">
Parse.initialize("instagram5208", "instagram5208oijopiajaoijwogeij934oin83hnvASC");
Parse.serverURL = 'https://frozen-sierra-62859.herokuapp.com/parse/'
</script>


<script type="text/javascript">
var username = sessionStorage.getItem('username', username);
var password = sessionStorage.getItem('password', password);
document.title = username;
//alert (username);
//alert (password);

var Image = Parse.Object.extend("Image");
var query = new Parse.Query(Image);
var myObjectIds = Array();

query.equalTo("username", username);
query.descending("createdAt");

query.find({
  success: function(results) {
    alert("Successfully retrieved " + results.length + " images.");
    // Do something with the returned Parse.Object values
    for (var i = 0; i < results.length; i++) {
      var object = results[i];
      // var myImage = object.id;
      var url = (object.get("image").url);
      var createdAt = (object.get("createdAt"));
      var image = object.get("image");
      myObjectIds[i] = object.id;
      //alert(url + object.id + createdAt + username + image);
      //alert(object.id + ' - ' + createdAt + ' - ' + object.get(image));
      //alert(myObjectIds); //working
    }
  },
  error: function(error) {
    alert("Error: " + error.code + " " + error.message);
  }
});


// for (var i = 0; i < myObjectIds.length; i++) {
//   query.get(myObjectIds[i], {
//     success: function(object) {
//       alert(myObjectIds[i]);
//       // object is an instance of Parse.Object.
//     },
//
//     error: function(object, error) {
//       // error is an instance of Parse.Error.
//     }
//   });
// }


function show_image(src, width, height, alt) {
  var img = document.createElement("img");
  img.src = src;
  img.width = width;
  img.height = height;
  img.alt = alt;

  // This next line will just add it to the <body> tag
  document.body.appendChild(img);
}

</script>

</html>
